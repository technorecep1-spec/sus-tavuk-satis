<%- include('partials/header') %>

<!-- Blog Page -->
<section class="blog-page">
    <div class="container">
        <div class="blog-header">
            <div class="blog-hero">
                <div class="blog-hero-content">
                    <div class="blog-badge">
                        <i class="bi bi-journal-text"></i>
                        <span>Blog & Makaleler</span>
                    </div>
                    <h1 class="blog-title">
                        <span class="title-main">Silver Wyandotte</span>
                        <span class="title-accent">Blog</span>
                    </h1>
                    <p class="blog-description">
                        Tavuk yetiştiriciliği, bakım ipuçları ve Silver Wyandotte hakkında 
                        <br>uzman bilgileri ve deneyimlerimizi paylaşıyoruz.
                    </p>
                </div>
                
                <!-- Blog Stats -->
                <div class="blog-stats">
                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="bi bi-file-text-fill"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number"><%= posts ? posts.length : 0 %></span>
                            <span class="stat-label">Makale</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="bi bi-eye-fill"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number">2.5K</span>
                            <span class="stat-label">Görüntüleme</span>
                        </div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-icon">
                            <i class="bi bi-heart-fill"></i>
                        </div>
                        <div class="stat-content">
                            <span class="stat-number">98%</span>
                            <span class="stat-label">Memnuniyet</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="blog-content">
            <% if (posts && posts.length > 0) { %>
                <!-- Featured Post -->
                <% const featuredPost = posts.find(post => post.isFeatured) || posts[0]; %>
                <% if (featuredPost) { %>
                    <div class="featured-post">
                        <div class="featured-post-content">
                            <div class="featured-image">
                                <img src="<%= featuredPost.featuredImage %>" alt="<%= featuredPost.title %>">
                                <div class="featured-badge">
                                    <i class="bi bi-star-fill"></i>
                                    <span>Öne Çıkan</span>
                                </div>
                            </div>
                            <div class="featured-info">
                                <div class="post-meta">
                                    <span class="post-category"><%= featuredPost.category %></span>
                                    <span class="post-date">
                                        <i class="bi bi-calendar"></i>
                                        <%= new Date(featuredPost.publishedAt || featuredPost.createdAt).toLocaleDateString('tr-TR') %>
                                    </span>
                                </div>
                                <h2 class="featured-title">
                                    <a href="/blog/<%= featuredPost.slug %>"><%= featuredPost.title %></a>
                                </h2>
                                <p class="featured-excerpt"><%= featuredPost.excerpt %></p>
                                <div class="featured-actions">
                                    <a href="/blog/<%= featuredPost.slug %>" class="btn btn-primary">
                                        <i class="bi bi-arrow-right"></i>
                                        <span>Devamını Oku</span>
                                    </a>
                                    <div class="post-stats">
                                        <span class="stat">
                                            <i class="bi bi-eye"></i>
                                            <%= featuredPost.viewCount || 0 %>
                                        </span>
                                        <span class="stat">
                                            <i class="bi bi-heart"></i>
                                            <%= featuredPost.likeCount || 0 %>
                                        </span>
                                        <span class="stat">
                                            <i class="bi bi-chat"></i>
                                            <%= featuredPost.commentCount || 0 %>
                                        </span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                <% } %>
                
                <!-- Filter Buttons -->
                <div class="blog-filters">
                    <button class="filter-btn active" data-filter="all">
                        <i class="bi bi-grid-3x3-gap"></i>
                        <span>Tümü</span>
                    </button>
                    <button class="filter-btn" data-filter="genel">
                        <i class="bi bi-journal"></i>
                        <span>Genel</span>
                    </button>
                    <button class="filter-btn" data-filter="bakim">
                        <i class="bi bi-tools"></i>
                        <span>Bakım</span>
                    </button>
                    <button class="filter-btn" data-filter="beslenme">
                        <i class="bi bi-egg-fried"></i>
                        <span>Beslenme</span>
                    </button>
                    <button class="filter-btn" data-filter="uretim">
                        <i class="bi bi-house-heart"></i>
                        <span>Üretim</span>
                    </button>
                    <button class="filter-btn" data-filter="ipuclari">
                        <i class="bi bi-lightbulb"></i>
                        <span>İpuçları</span>
                    </button>
                </div>
                
                <!-- Blog Grid -->
                <div class="blog-grid">
                    <% posts.forEach((post, index) => { %>
                        <% if (!post.isFeatured || posts.length === 1) { %>
                            <article class="blog-item" data-category="<%= post.category %>">
                                <div class="blog-image">
                                    <img src="<%= post.featuredImage %>" alt="<%= post.title %>" loading="lazy">
                                    <div class="blog-overlay">
                                        <a href="/blog/<%= post.slug %>" class="blog-link">
                                            <i class="bi bi-arrow-right"></i>
                                        </a>
                                    </div>
                                    <div class="blog-category">
                                        <span><%= post.category %></span>
                                    </div>
                                </div>
                                <div class="blog-content">
                                    <div class="blog-meta">
                                        <span class="blog-date">
                                            <i class="bi bi-calendar"></i>
                                            <%= new Date(post.publishedAt || post.createdAt).toLocaleDateString('tr-TR') %>
                                        </span>
                                        <span class="blog-author">
                                            <i class="bi bi-person"></i>
                                            Admin
                                        </span>
                                    </div>
                                    <h3 class="blog-title">
                                        <a href="/blog/<%= post.slug %>"><%= post.title %></a>
                                    </h3>
                                    <p class="blog-excerpt"><%= post.excerpt %></p>
                                    <div class="blog-footer">
                                        <div class="blog-stats">
                                            <span class="stat">
                                                <i class="bi bi-eye"></i>
                                                <%= post.viewCount || 0 %>
                                            </span>
                                            <span class="stat">
                                                <i class="bi bi-heart"></i>
                                                <%= post.likeCount || 0 %>
                                            </span>
                                            <span class="stat">
                                                <i class="bi bi-chat"></i>
                                                <%= post.commentCount || 0 %>
                                            </span>
                                        </div>
                                        <a href="/blog/<%= post.slug %>" class="read-more">
                                            Devamını Oku
                                            <i class="bi bi-arrow-right"></i>
                                        </a>
                                    </div>
                                </div>
                            </article>
                        <% } %>
                    <% }); %>
                </div>
                
                <!-- Load More Button -->
                <div class="blog-load-more">
                    <button class="btn btn-primary btn-lg" id="loadMoreBtn">
                        <i class="bi bi-arrow-down-circle"></i>
                        <span>Daha Fazla Yükle</span>
                    </button>
                </div>
            <% } else { %>
                <div class="empty-blog">
                    <div class="empty-blog-content">
                        <div class="empty-icon">
                            <i class="bi bi-journal-text"></i>
                        </div>
                        <h3>Blog'da henüz makale bulunmuyor</h3>
                        <p>Yakında Silver Wyandotte hakkında değerli bilgiler paylaşacağız!</p>
                        <div class="empty-actions">
                            <a href="/iletisim" class="btn btn-primary">
                                <i class="bi bi-envelope"></i>
                                <span>İletişime Geçin</span>
                            </a>
                            <a href="/urunler" class="btn btn-secondary">
                                <i class="bi bi-box"></i>
                                <span>Ürünlerimizi İnceleyin</span>
                            </a>
                        </div>
                    </div>
                </div>
            <% } %>
        </div>
    </div>
</section>

<%- include('partials/footer') %>
